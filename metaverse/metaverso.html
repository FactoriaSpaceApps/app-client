<!DOCTYPE html>
<html>
      <head>
            <meta charset="utf-8" />
            <title>Metaverse</title>
            <script src="https://aframe.io/releases/1.4.1/aframe.min.js"></script>
            <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-physics-system@v4.2.2/dist/aframe-physics-system.min.js"></script>
            <script src="https://cdn.jsdelivr.net/gh/mrturck/aframe-joystick@master/joystick.min.js"></script>
            <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.2.0/dist/aframe-extras.min.js"></script>
            <script src="socket.io.js"></script>
            <script src="easyrtc.js"></script>
            <script src="networked-aframe.js"></script>
            <link rel="stylesheet" href="metaverso.css">
            <script src="metaverso.js"></script>
            <script src="https://unpkg.com/aframe-randomizer-components@^3.0.1/dist/aframe-randomizer-components.min.js"></script>
            <script src="https://unpkg.com/aframe-environment-component@1.3.2/dist/aframe-environment-component.min.js"></script>
            <script src="../scripts/aframe-babia-components.js"></script>
      </head>
      <body>
            <!-- Chat Element //// -->
            <div class="chat">
                  <h3 class="chat-title">Chat between users</h3>
                  <form>
                        <div>
                              <input
                                    type="text"
                                    name=""
                                    autocomplete="off"
                                    id="input"
                                    placeholder="Message"
                              />
                              <button type="submit" id="send-btn">Send</button>
                        </div>
                  </form>
                  <div class="messages"></div>
            </div>
            <!-- Name Input //// -->
            <div class="name-input">
                  <h3>Your name:</h3>
                  <input type="text" id="user-name" />
            </div>
            <a-scene
                  cursor="rayOrigin: mouse"
                  joystick
                  physics="gravity: -15"
                  networked-scene="
                        room: basic;
                        debug: true;
                        adapter: wseasyrtc;
                        serverURL: wss://polar-node-server.onrender.com;
                        "
            >
                  <a-assets>
                        <template id="avatar-template">
                              <a-entity class="avatar">
                                    <a-entity
                                          id="duck"
                                          miposition
                                          click
                                          gltf-model="assets/rubber-duck-2.glb"
                                          position="0 -1.4 0"
                                          scale="0.2 0.2 0.2"
                                          rotation="0 180 0"
                                    ></a-entity>
                              </a-entity>
                        </template>
                       <video id="ssvid1" src="assets/ssvid1.mp4"></video>
                        <video id="ssvidted" src="assets/ssvidted.mp4"></video>
                        <!--video id="ssvid3" src="assets/ssvid3.mp4"></video-->
                        <video id="ssvid3" src="assets/vid.mp4"></video>
                        <!--video id="equipo" src="assets/Importancia-equipo.mp4" preload="auto" crossorigin="anonymous"></video-->
                         <video id="clickEquipo" src="assets/Importancia-equipo.mp4"></video>
                        <a-asset-item id="tv-model" src="assets/tv.glb"></a-asset-item>
                  </a-assets>
                  <a-entity>
                        <a-entity
                              networked="template:#avatar-template;attachTemplateToLocal:false;"
                              position="0 1.5 -2.2"
                              id="camera"
                              wasd-controls
                              look-controls
                              camera
                        >
                              <a-box
                                    width="10"
                                    height="10"
                                    deep="10"
                                    id="user"
                                    static-body="shape: box; mass: 100"
                                    color="blue"
                              ></a-box>
                              <!--a-sphere class="head" visible="false" random-color></a-sphere-->
                        </a-entity>
                  </a-entity>
                  <a-entity position="7 1 -15" scale="1 1" rotation="0 0 0" gltf-model="#tv-model">
                              <a-video video1 src="#ssvid1" position="-.43 .35 0.24" width="3.8" height="2.2"></a-video>
                   </a-entity>
                  <a-entity position="0 1 -9" scale="1 1" rotation="0 0 0" gltf-model="#tv-model">
                              <a-video videoted src="#ssvidted" position="-.43 .35 0.24" width="3.8" height="2.2"></a-video>
                   </a-entity>

                   <a-entity position="-10 1 -12" scale="1 1" rotation="0 0 0" gltf-model="#tv-model">
                              <!--a-video video3 src="#ssvid3" position="-.43 .35 0.24" width="3.8" height="2.2"></a-video-->
                              <a-video clickequipo src="#clickEquipo" position="-.4 .4 0.24" width="4" height="2.3"></a-video>
                   </a-entity>
                   <a-entity id="co2concentracion" visible="true" scale="2 2 2" position="5 1 -25">
                              <a-entity text="value:CO2 concentration; color: white" position="0.4 1.5 0" scale="3 3 3"></a-entity>
                              <a-entity   babia-queryjson="url: ../staticdata/co2Concentracion.json" babia-bars='legend_scale: 5; height: value; chartHeight: 45; animation: true; palette: blues; axis_name: true; legend:true; x_axis: key_as_string; z_axis: key_as_string; legend_lookat: [laser-controls]; animation: true; ' position="-1 0 0.2" rotation="0 -0.2 0" scale="0.025 0.025 0.025"></a-entity>
                    </a-entity>

                     <a-entity id="co2emitido" visible="true" scale="2 2 2" position="-12 1 -20">
                              <a-entity text="value: CO2 emissions; color: white" position="0.4 1.5 0" scale="3 3 3"></a-entity>
                              <a-entity  babia-queryjson="url: ../staticdata/co2Emision.json" babia-bars='legend_scale: 5; height: value; chartHeight: 45; animation: true; palette: blues; axis_name: true; legend:true; x_axis: key_as_string; z_axis: key_as_string; legend_lookat: [laser-controls]; animation: true; ' position="-1 0 0.2" rotation="0 -0.2 0" scale="0.025 0.025 0.025"></a-entity>
                    </a-entity>

                     <a-entity id="temperatura" visible="true" scale="2 2 2" position="-20 1 -15">
                              <a-entity text="value:Increased global temperature; color: white" position="0.4 1.5 0" scale="3 3 3"></a-entity>
                              <a-entity   babia-queryjson="url: ../staticdata/temperatura.json" babia-bars=' legend_scale: 5; height: value; chartHeight: 45; animation: true; palette: sunset; axis_name: true; legend:true; x_axis: key_as_string; z_axis: key_as_string; legend_lookat: [laser-controls]; animation: true; ' position="-1 0 0.2" rotation="0 -0.2 0" scale="0.025 0.025 0.025"></a-entity>
                    </a-entity>

                     <a-entity id="desastres" visible="true" scale="2 2 2" position="12 1 -15">
                              <a-entity text="value:Disaster events related to climate; color: white" position="0.4 1.5 0" scale="3 3 3"></a-entity>
                              <a-entity   babia-queryjson="url: ../staticdata/desastres.json" babia-bars=' legend_scale: 5; height: value; chartHeight: 45; animation: true; palette: blues; axis_name: true; legend:true; x_axis: key_as_string; z_axis: key_as_string; legend_lookat: [laser-controls]; animation: true; ' position="-1 0 0.2" rotation="0 -0.2 0" scale="0.025 0.025 0.025"></a-entity>
                    </a-entity>

                  <a-box
                        id="boxred"
                        position="-8 8 -25"
                        color="red"
                        width="5"
                        height="5"
                        depth="5"
                        dynamic-body="shape: box; mass: 200"
                        clickcaja
                        collision-detect
                  ></a-box>
                  <a-box
                        id="boxgreen"
                        position="8 8 -5"
                        color="blue"
                        width="5"
                        height="5"
                        depth="5"
                        dynamic-body="shape: box; mass: 200"
                        clickcaja
                        collision-detect
                  ></a-box>
                  <a-box
                        id="suelo"
                        position="0 -2 0"
                        rotation="0 0 0"
                        depth="1000"
                        width="1000"
                        height="2"
                        color="#061f4a"
                        static-body
                  ></a-box>
                  <!--a-entity light="type:ambient;intensity:1.5"></a-entity-->
                   <a-entity light="type:ambient;intensity:1.5"></a-entity>
            </a-scene>
      </body>
</html>
